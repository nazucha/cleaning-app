# OpenAI API 料金体系（2025年）

## 重要：使用しているモデル

このアプリケーションでは **GPT-4o-mini** を使用しています。これは最もコスト効率の良いモデルの一つです。

## GPT-4o-mini の料金（2025年）

### 基本料金（米ドル建て）

- **入力トークン**: $0.150 / 100万トークン
- **出力トークン**: $0.600 / 100万トークン
- **キャッシュされた入力**: $0.075 / 100万トークン（50%割引）

### 日本円での概算（1ドル = 150円として計算）

- **入力トークン**: 約 **22.5円** / 100万トークン
- **出力トークン**: 約 **90円** / 100万トークン

**注意**: 実際の為替レートとクレジットカードの手数料により、実際の請求額は変動します。

## トークンとは？

トークンは、テキストを分割した単位です。おおよその目安：

- **日本語**: 1文字 ≈ 1トークン
- **英語**: 1単語 ≈ 1.3トークン
- **例**: 「メーカー: ダイキン, 型番: AJT-SEP」≈ 約20トークン

## このアプリケーションでの使用量見積もり

### 1回の型番分析での使用量

**入力（プロンプト）**:
- システムプロンプト: 約100トークン
- ユーザープロンプト（メーカー + 型番）: 約50トークン
- **合計入力**: 約150トークン

**出力（回答）**:
- ChatGPTの回答: 約200-500トークン（回答の長さによる）
- **平均出力**: 約350トークン

**1回あたりのコスト**:
- 入力: 150トークン × $0.150 / 100万 = **$0.0000225**（約0.003円）
- 出力: 350トークン × $0.600 / 100万 = **$0.00021**（約0.03円）
- **合計**: 約 **$0.0002325**（約 **0.035円** / 1回）

### 月間使用量の見積もり

| 使用回数 | 入力コスト | 出力コスト | 合計（円） |
|---------|----------|----------|----------|
| 100回 | 約0.3円 | 約3円 | 約3.3円 |
| 500回 | 約1.5円 | 約15円 | 約16.5円 |
| 1,000回 | 約3円 | 約30円 | 約33円 |
| 5,000回 | 約15円 | 約150円 | 約165円 |
| 10,000回 | 約30円 | 約300円 | 約330円 |

**注意**: これは概算です。実際の使用量は、回答の長さやプロンプトの内容によって変動します。

## 料金の特徴

### ✅ メリット

1. **従量課金**: 使った分だけ支払う
2. **GPT-4o-miniは安価**: GPT-4の約1/10のコスト
3. **無料枠なし**: 新規登録時に無料クレジットが付与されることがありますが、基本的には有料
4. **使用量の監視**: ダッシュボードでリアルタイムに使用量を確認可能

### ⚠️ 注意点

1. **為替変動**: 米ドル建てのため、為替レートにより実際の請求額が変動
2. **手数料**: クレジットカード決済時に手数料がかかる場合があります
3. **予期しない使用**: 上限設定をしておかないと、予想外の使用で高額請求になる可能性

## コスト最適化の方法

### 1. 使用量の上限設定（推奨）

1. https://platform.openai.com/account/billing/limits にアクセス
2. 「Hard limit」を設定（例：月間$50など）
3. 上限に達すると、API呼び出しが自動的に停止されます

### 2. 使用量の監視

1. https://platform.openai.com/usage で使用量を確認
2. 定期的にチェックして、予想外の使用がないか確認

### 3. キャッシュの活用

- 同じ型番の分析結果をキャッシュすることで、コストを削減できます
- 現在の実装では、型番が変更されるたびに新しいAPI呼び出しが発生します

### 4. プロンプトの最適化

- プロンプトを短くすることで、入力トークンを削減できます
- ただし、精度が下がる可能性があるため、バランスが重要

## 請求方法

### 支払い方法

- **クレジットカード**: Visa、Mastercard、American Express
- **請求サイクル**: 月次（使用量に応じて自動請求）

### 請求のタイミング

- 使用量に応じて自動的に請求されます
- 請求書は毎月生成されます

## 他のモデルとの比較

| モデル | 入力（100万トークン） | 出力（100万トークン） | 特徴 |
|--------|---------------------|---------------------|------|
| **GPT-4o-mini** | $0.150 | $0.600 | **現在使用中** - コスト効率が良い |
| GPT-4o | $2.50 | $10.00 | より高性能だが高価 |
| GPT-3.5 Turbo | $0.50 | $1.50 | 旧モデル、GPT-4o-miniより高価 |

## 実用的なアドバイス

### 会社での使用を想定した推奨設定

1. **月間上限**: $50-100（約7,500-15,000円）を設定
   - 1日あたり約1,500-3,000回の分析が可能
   - 実際の使用量に応じて調整

2. **使用量アラート**: 上限の80%に達したら通知を受け取る設定
   - 予期しない使用を早期に発見

3. **定期的な監視**: 週1回程度、使用量を確認
   - https://platform.openai.com/usage で確認

## 参考リンク

- **料金ページ**: https://platform.openai.com/docs/pricing
- **使用量確認**: https://platform.openai.com/usage
- **請求設定**: https://platform.openai.com/account/billing
- **上限設定**: https://platform.openai.com/account/billing/limits

## まとめ

- **GPT-4o-miniは非常にコスト効率が良い**モデルです
- **1回の分析あたり約0.035円**と非常に安価
- **月間1,000回使用しても約33円**程度
- **上限設定を必ず行う**ことを推奨します
