# 問題解決手順

## 確認された問題

### 問題1: gcloud CLIがインストールされていない
- `brew`コマンドが見つからない
- `gcloud`コマンドが見つからない

### 問題2: ポート3000が既に使用されている
- サーバーが起動できない（`EADDRINUSE: address already in use 127.0.0.1:3000`）

## 解決方法

### 問題1の解決: gcloud CLIのインストール

#### 方法A: Homebrewをインストールしてからgcloud CLIをインストール（推奨）

```bash
# 1. Homebrewをインストール
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 2. インストール後、PATHを設定（表示される指示に従う）
# 通常は以下のコマンドを実行：
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zshrc
source ~/.zshrc

# 3. gcloud CLIをインストール
brew install --cask google-cloud-sdk
```

#### 方法B: 公式インストーラーを使用（Homebrewを使わない場合）

1. 以下のURLにアクセス：
   - https://cloud.google.com/sdk/docs/install

2. 「macOS」を選択
3. インストーラーをダウンロード
4. ダウンロードしたファイルを実行してインストール

### 問題2の解決: ポート3000を解放

#### 方法A: 既存のプロセスを終了

```bash
# ポート3000を使用しているプロセスを確認
lsof -ti:3000

# プロセスIDが表示されたら、そのプロセスを終了
kill -9 $(lsof -ti:3000)
```

#### 方法B: 別のポートを使用

`.env`ファイルに以下を追加：

```env
PORT=3001
```

または、サーバー起動時にポートを指定：

```bash
PORT=3001 node server.js
```

## 次のステップ

1. ポート3000を解放（または別のポートを使用）
2. gcloud CLIをインストール
3. 認証を実行：
   ```bash
   gcloud auth application-default login
   gcloud config set project ambient-sylph-485519-b4
   ```
4. サーバーを再起動
