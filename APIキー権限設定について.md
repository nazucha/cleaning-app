# OpenAI APIキー権限設定について

## 権限の種類

OpenAI APIキーには3つの権限レベルがあります：

1. **All（全て）** - すべてのエンドポイントに対する完全な権限（デフォルト設定）
2. **Restricted（制限付き）** - 個々のエンドポイントに対して読み取り/書き込み権限をカスタマイズ
3. **Read Only（読み取り専用）** - すべてのエンドポイントに対する読み取り権限のみ

## このアプリケーションで必要な権限

このアプリケーションでは、**Chat Completions API**のみを使用しています。

### Chat Completions APIの特徴

- **POSTリクエスト**を使用（書き込み操作）
- 型番を分析して回答を取得するだけ
- 他のAPIエンドポイントは使用しない

### 推奨される権限設定

#### オプション1: All（全て） - 推奨（シンプル）

✅ **メリット**:
- 設定が簡単
- 将来的に他のAPIを使う場合にも対応可能
- デフォルト設定なので迷わない

⚠️ **注意点**:
- すべてのAPIにアクセス可能
- セキュリティ的には最小権限の原則に反する

**結論**: **シンプルさを重視する場合は「All」で問題ありません。**

#### オプション2: Restricted（制限付き） - セキュリティ重視

✅ **メリット**:
- 最小権限の原則に従う
- 必要なAPIのみにアクセス可能
- セキュリティが向上

⚠️ **注意点**:
- 設定が少し複雑
- 将来的に他のAPIを使う場合は設定変更が必要

**設定方法**:
1. 「Restricted」を選択
2. 「Chat Completions」に「Write」権限を付与
3. 他のAPIは無効のまま

## 推奨事項

### 会社での使用を想定した場合

**「All（全て）」を推奨します**

理由：
1. **シンプル**: 設定が簡単で迷わない
2. **将来性**: 将来的に他のAPIを使う場合にも対応可能
3. **実用性**: このアプリケーションでは問題ない
4. **管理しやすい**: 権限設定で迷う必要がない

### セキュリティが重要な場合

**「Restricted（制限付き）」を選択**

設定：
- Chat Completions: **Write**権限
- その他のAPI: 無効

## 実際の設定手順

### All（全て）を選択する場合

1. APIキー作成時に「All」を選択（デフォルト）
2. そのまま作成

### Restricted（制限付き）を選択する場合

1. APIキー作成時に「Restricted」を選択
2. 「Chat Completions」を探す
3. 「Write」権限を有効にする
4. その他のAPIは無効のまま
5. 保存

## 注意事項

### Read Only（読み取り専用）は使えない

⚠️ **Chat Completions APIはPOSTリクエスト（書き込み操作）のため、Read Onlyでは動作しません。**

Read Onlyを選択すると、エラーが発生します。

## まとめ

### 推奨設定

**「All（全て）」を選択してください**

- ✅ シンプルで設定が簡単
- ✅ このアプリケーションで問題なく動作
- ✅ 将来的な拡張にも対応可能
- ✅ 会社での使用に適している

### セキュリティが特に重要な場合

**「Restricted（制限付き）」を選択**

- Chat Completions: Write権限のみ
- その他のAPI: 無効

**結論**: **「All（全て）」で問題ありません。**シンプルで実用的です。
