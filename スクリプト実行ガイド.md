# 完全な型番データ取得スクリプト実行ガイド

## 概要

各メーカーの完全な型番データを取得するスクリプトを実行します。
実行には時間がかかりますが、バックグラウンドで実行することもできます。

## 実行方法

### 方法1: 個別に実行（推奨）

ターミナルで以下のコマンドを実行してください：

```bash
cd /Users/malove/Desktop/再チャレンジ/cleaning-app

# 三菱電機（約30分〜1時間）
node scripts/scrapeMitsubishiFullModels.js

# パナソニック（約30分〜1時間）
node scripts/scrapePanasonicFullModels.js

# 日立（約30分〜1時間）
node scripts/scrapeHitachiFullModels.js

# 東芝（約30分〜1時間）
node scripts/scrapeToshibaFullModels.js

# シャープ（約10分〜30分）
node scripts/scrapeSharpFullModels.js

# 三菱重工（約10分〜30分）
node scripts/scrapeMitsubishiHeavyFullModels.js

# 富士通ゼネラル（約10分〜30分）
node scripts/scrapeFujitsuFullModels.js
```

### 方法2: バックグラウンドで実行

長時間実行する場合は、バックグラウンドで実行できます：

```bash
# 三菱電機をバックグラウンドで実行
nohup node scripts/scrapeMitsubishiFullModels.js > logs/mitsubishi.log 2>&1 &

# パナソニックをバックグラウンドで実行
nohup node scripts/scrapePanasonicFullModels.js > logs/panasonic.log 2>&1 &

# ログを確認
tail -f logs/mitsubishi.log
```

### 方法3: 順次実行（全メーカー）

すべてのメーカーを順次実行する場合：

```bash
cd /Users/malove/Desktop/再チャレンジ/cleaning-app

# 実行順序（データ量が多い順）
node scripts/scrapeMitsubishiFullModels.js
node scripts/scrapeHitachiFullModels.js
node scripts/scrapePanasonicFullModels.js
node scripts/scrapeToshibaFullModels.js
node scripts/scrapeFujitsuFullModels.js
node scripts/scrapeSharpFullModels.js
node scripts/scrapeMitsubishiHeavyFullModels.js
```

## 実行中の確認

スクリプト実行中は、以下のような出力が表示されます：

```
三菱電機の完全な詳細型番を取得中...
処理対象: 47個のプレフィックス

[1/47] MSZ を処理中...
  ✓ MSZ: 150件の完全な型番を取得: MSZ-KXV284S, MSZ-KXZ40, ...
[2/47] PLZ を処理中...
  ...
```

## 完了後の確認

スクリプトが完了すると、以下のファイルが作成されます：

```bash
# 完全な型番データ
data/mitsubishiFullModelDetails.json
data/panasonicFullModelDetails.json
data/hitachiFullModelDetails.json
data/toshibaFullModelDetails.json
data/sharpFullModelDetails.json
data/mitsubishiHeavyFullModelDetails.json
data/fujitsuFullModelDetails.json

# お掃除機能のデータ（取得できた場合）
data/mitsubishiCleaningFunctionFromManual.json
data/panasonicCleaningFunctionFromManual.json
# など
```

## トラブルシューティング

### エラーが発生した場合

1. **ネットワークエラー**: インターネット接続を確認してください
2. **404エラー**: 一部の型番ページが存在しない場合があります（無視されます）
3. **タイムアウト**: サーバーの応答が遅い場合、スクリプトは自動的に次の型番に進みます

### 中断した場合

スクリプトを中断（Ctrl+C）しても、既に取得したデータは保存されています。
再度実行すると、既存のデータに追加されます（ただし、重複チェックは行われます）。

## 次のステップ

すべてのスクリプトが完了したら：

1. ブラウザでアプリをリロード（Ctrl+Shift+R または Cmd+Shift+R）
2. 各メーカーを選択して、型番フィールドに完全な型番が表示されることを確認
3. 例：ダイキンで「AJT」と入力すると、「AJT40SEP」「AJT56SEP」などが表示される

## 注意事項

- スクリプトの実行には時間がかかります（各メーカーで30分〜1時間程度）
- サーバーに負荷をかけないように、各リクエストの間に500msの待機時間を設けています
- すべての型番を処理するには、合計で数時間かかる可能性があります
