# 清掃サービス問い合わせフォーム 配布手順

## 方法1: Web版の配布（推奨・最も簡単）

### 1-1. ビルドの準備

```bash
cd cleaning-app
npm install
```

### 1-2. Web版をビルド

```bash
npx expo export:web
```

これで `web-build` フォルダが作成されます。

### 1-3. ホスティングサービスにデプロイ

#### オプションA: Vercel（推奨）
1. [Vercel](https://vercel.com) にアカウント作成
2. GitHubにプロジェクトをプッシュ（オプション）
3. Vercelでプロジェクトをインポート
4. `web-build` フォルダをデプロイ

#### オプションB: Netlify
1. [Netlify](https://www.netlify.com) にアカウント作成
2. `web-build` フォルダをドラッグ&ドロップでアップロード
3. 自動的にURLが発行されます

#### オプションC: GitHub Pages
1. GitHubリポジトリを作成
2. `web-build` フォルダの内容をリポジトリにプッシュ
3. GitHub Pagesを有効化

### 1-4. バックエンドサーバーの設定

**重要**: フォーム送信機能を使用するには、バックエンドサーバー（`server.js`）も必要です。

#### オプションA: Vercel Serverless Functions
- `server.js` を Vercel の Serverless Functions に変換

#### オプションB: Heroku / Railway / Render
- `server.js` をデプロイ
- 環境変数 `COMPOSIO_API_KEY` を設定
- `services/sheetsService.ts` の `API_ENDPOINT` を更新

---

## 方法2: モバイル版の配布

### 2-1. iOS版の配布

#### App Store経由（一般公開）
```bash
# プロダクションビルドを作成
npx eas-cli build --profile production --platform ios

# App Storeに提出
npx eas-cli submit --platform ios
```

#### 開発ビルド（内部配布）
```bash
# 開発ビルドを作成
npx eas-cli build --profile development --platform ios

# ビルドが完了したら、TestFlight経由で配布
```

### 2-2. Android版の配布

#### Google Play Store経由（一般公開）
```bash
# プロダクションビルドを作成
npx eas-cli build --profile production --platform android

# Google Play Storeに提出
npx eas-cli submit --platform android
```

#### APKファイル（直接配布）
```bash
# APKファイルを作成
npx eas-cli build --profile preview --platform android

# ビルドが完了したら、APKファイルをダウンロードして配布
```

---

## 方法3: 両方の配布（Web + モバイル）

1. **Web版**: 方法1でホスティング
2. **モバイル版**: 方法2でApp Store / Google Play Storeに公開
3. **バックエンド**: 同じサーバーを使用（APIエンドポイントを共有）

---

## 必要な環境変数

バックエンドサーバー（`server.js`）で必要な環境変数：
- `COMPOSIO_API_KEY`: ComposioのAPIキー
- `SPREADSHEET_ID`: GoogleスプレッドシートのID（既に設定済み）

---

## 推奨される配布方法

**最も簡単**: Web版のみを配布
- ビルドが簡単
- ホスティングが無料でできる
- 更新が容易

**本格的な配布**: Web版 + モバイル版
- ユーザーがアプリストアからインストール可能
- よりネイティブな体験

---

## トラブルシューティング

### Web版のビルドエラー
```bash
# キャッシュをクリア
npx expo export:web --clear
```

### モバイル版のビルドエラー
- EAS Buildのログを確認
- `eas.json` の設定を確認

### バックエンド接続エラー
- `services/sheetsService.ts` の `API_ENDPOINT` が正しいか確認
- CORS設定を確認
